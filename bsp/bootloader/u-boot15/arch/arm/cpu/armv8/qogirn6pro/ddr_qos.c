/*
 */
#include <common.h>
#include <asm/io.h>
#include <asm/arch/common.h>
struct qos_cfg
{
	u32 addr;
	u32 start_bit;
	u32 bits;
	u32 value;
};

static void reg_bit_set(u32 addr, u32 start_bit, u32 bits_num, u32 val)
{
	u32 tmp_val, bit_mask = ((1 << bits_num) - 1);
	tmp_val = __raw_readl(addr);
	tmp_val &= ~(bit_mask << start_bit);
	tmp_val |= ((val & bit_mask) << start_bit);
	__raw_writel(tmp_val, addr);
}

struct qos_cfg qos_cfg[] = {
	{0x60084064, 12, 2, 0x2},
	{0x60084064, 0, 12, 0xeec},
	{0x60084060, 1, 1, 0x0},
	{0x60084164, 12, 2, 0x2},
	{0x60084164, 0, 12, 0xeec},
	{0x60084160, 1, 1, 0x0},
	{0x60084068, 8, 3, 0x0},
	{0x60084068, 0, 1, 0x1},
	{0x600840e8, 8, 3, 0x0},
	{0x600840e8, 0, 1, 0x1},
	{0x60084168, 8, 3, 0x0},
	{0x60084168, 0, 1, 0x1},
	{0x60080068, 8, 3, 0x0},
	{0x60080068, 0, 1, 0x1},
	{0x600800e8, 8, 3, 0x0},
	{0x600800e8, 0, 1, 0x1},
	{0x60080168, 8, 3, 0x0},
	{0x60080168, 0, 1, 0x1},
	{0x600820e8, 8, 3, 0x0},
	{0x600820e8, 0, 1, 0x1},
	{0x60082114, 16, 16, 0x0},
	{0x60082114, 0, 16, 0x0},
	{0x60082118, 16, 16, 0x0},
	{0x60082118, 12, 4, 0x0},
	{0x60082118, 8, 4, 0x0},
	{0x60082118, 0, 8, 0x0},
	{0x60082168, 8, 3, 0x0},
	{0x60082168, 0, 1, 0x1},
	{0x600821e8, 8, 3, 0x0},
	{0x600821e8, 0, 1, 0x1},
	{0x60082268, 8, 3, 0x0},
	{0x60082268, 0, 1, 0x1},
	{0x60081000, 0, 1, 0x1},
	{0x60081004, 30, 2, 0x0},
	{0x60081004, 24, 6, 0x1},
	{0x60081004, 22, 2, 0x0},
	{0x60081004, 16, 6, 0x8},
	{0x60081004, 14, 2, 0x0},
	{0x60081004, 8, 6, 0x8},
	{0x60081004, 6, 2, 0x0},
	{0x60081004, 0, 6, 0x8},
	{0x60081008, 24, 6, 0x10},
	{0x60081008, 16, 6, 0x7},
	{0x60081008, 8, 6, 0x7},
	{0x60081008, 0, 6, 0x7},
	{0x6008100c, 24, 6, 0x10},
	{0x6008100c, 16, 6, 0x10},
	{0x6008100c, 14, 2, 0x0},
	{0x6008100c, 8, 6, 0x8},
	{0x6008100c, 6, 2, 0x0},
	{0x6008100c, 0, 6, 0x8},
	{0x60081068, 8, 3, 0x0},
	{0x60081068, 0, 1, 0x1},
	{0x60081080, 0, 1, 0x1},
	{0x60081084, 30, 2, 0x0},
	{0x60081084, 24, 6, 0x1},
	{0x60081084, 22, 2, 0x0},
	{0x60081084, 16, 6, 0x1},
	{0x60081084, 14, 2, 0x0},
	{0x60081084, 8, 6, 0x1},
	{0x60081084, 6, 2, 0x0},
	{0x60081084, 0, 6, 0x1},
	{0x60081088, 24, 6, 0x10},
	{0x60081088, 16, 6, 0x20},
	{0x60081088, 8, 6, 0x10},
	{0x60081088, 0, 6, 0x8},
	{0x6008108c, 24, 6, 0x20},
	{0x6008108c, 16, 6, 0x10},
	{0x6008108c, 14, 2, 0x0},
	{0x6008108c, 8, 6, 0x8},
	{0x6008108c, 6, 2, 0x0},
	{0x6008108c, 0, 6, 0x8},
	{0x600810e8, 8, 3, 0x0},
	{0x600810e8, 0, 1, 0x1},
	{0x60083068, 8, 3, 0x0},
	{0x60083068, 0, 1, 0x1},
	{0x600830e8, 8, 3, 0x0},
	{0x600830e8, 0, 1, 0x1},
	{0x60085000, 0, 1, 0x1},
	{0x60085004, 30, 2, 0x0},
	{0x60085004, 24, 6, 0x1},
	{0x60085004, 22, 2, 0x0},
	{0x60085004, 16, 6, 0x20},
	{0x60085004, 14, 2, 0x0},
	{0x60085004, 8, 6, 0x1},
	{0x60085004, 6, 2, 0x2},
	{0x60085004, 0, 6, 0x10},
	{0x60085008, 24, 6, 0x2},
	{0x60085008, 16, 6, 0x3f},
	{0x60085008, 8, 6, 0x4},
	{0x60085008, 0, 6, 0x1},
	{0x6008500c, 30, 2, 0x3},
	{0x6008500c, 24, 6, 0x20},
	{0x6008500c, 16, 6, 0x10},
	{0x6008500c, 14, 2, 0x0},
	{0x6008500c, 8, 6, 0x10},
	{0x6008500c, 6, 2, 0x0},
	{0x6008500c, 0, 6, 0x8},
	{0x60085014, 16, 16, 0x0},
	{0x60085014, 12, 4, 0x0},
	{0x60085014, 11, 1, 0x0},
	{0x60085014, 10, 1, 0x0},
	{0x60085014, 9, 1, 0x0},
	{0x60085014, 8, 1, 0x0},
	{0x60085014, 0, 8, 0x0},
	{0x60085018, 16, 16, 0x0},
	{0x60085018, 12, 4, 0x0},
	{0x60085018, 11, 1, 0x0},
	{0x60085018, 10, 1, 0x0},
	{0x60085018, 9, 1, 0x0},
	{0x60085018, 8, 1, 0x0},
	{0x60085018, 0, 8, 0x0},
	{0x60085068, 8, 3, 0x0},
	{0x60085068, 0, 1, 0x1},
	{0x60085080, 0, 1, 0x1},
	{0x60085084, 30, 2, 0x0},
	{0x60085084, 24, 6, 0x1},
	{0x60085084, 22, 2, 0x0},
	{0x60085084, 16, 6, 0x20},
	{0x60085084, 14, 2, 0x0},
	{0x60085084, 8, 6, 0x1},
	{0x60085084, 6, 2, 0x2},
	{0x60085084, 0, 6, 0x10},
	{0x60085088, 24, 6, 0x4},
	{0x60085088, 16, 6, 0x3f},
	{0x60085088, 8, 6, 0x4},
	{0x60085088, 0, 6, 0x1},
	{0x6008508c, 30, 2, 0x3},
	{0x6008508c, 24, 6, 0x20},
	{0x6008508c, 16, 6, 0x10},
	{0x6008508c, 14, 2, 0x0},
	{0x6008508c, 8, 6, 0x10},
	{0x6008508c, 6, 2, 0x0},
	{0x6008508c, 0, 6, 0x8},
	{0x600850e8, 8, 3, 0x0},
	{0x600850e8, 0, 1, 0x1},
	{0x60085160, 31, 1, 0x0},
	{0x60085160, 0, 2, 0x0},
	//{0x60085160, 0, 1, 0x0},
	{0x60085164, 28, 2, 0x0},
	{0x60085164, 24, 4, 0xc},
	{0x60085164, 20, 4, 0xc},
	{0x60085164, 16, 6, 0xa},
	{0x60085164, 12, 2, 0x0},
	{0x60085164, 8, 4, 0xc},
	{0x60085164, 4, 4, 0xc},
	{0x60085164, 0, 4, 0xa},
	{0x60085168, 8, 3, 0x0},
	{0x60085168, 0, 1, 0x1},
	{0x60085180, 0, 1, 0x1},
	{0x60085184, 30, 2, 0x0},
	{0x60085184, 24, 6, 0x8},
	{0x60085184, 22, 2, 0x0},
	{0x60085184, 16, 6, 0x8},
	{0x60085184, 14, 2, 0x0},
	{0x60085184, 8, 6, 0x8},
	{0x60085184, 6, 2, 0x0},
	{0x60085184, 0, 6, 0x8},
	{0x60085188, 24, 6, 0x3f},
	{0x60085188, 16, 6, 0x3f},
	{0x60085188, 8, 6, 0x3f},
	{0x60085188, 0, 6, 0x3f},
	{0x6008518c, 24, 6, 0x3f},
	{0x6008518c, 16, 6, 0x3f},
	{0x6008518c, 14, 2, 0x0},
	{0x6008518c, 8, 6, 0x8},
	{0x6008518c, 6, 2, 0x0},
	{0x6008518c, 0, 6, 0x8},
	{0x600851e8, 8, 3, 0x0},
	{0x600851e8, 0, 1, 0x1},
	{0x60085200, 0, 1, 0x1},
	{0x60085204, 30, 2, 0x0},
	{0x60085204, 24, 6, 0x4},
	{0x60085204, 22, 2, 0x0},
	{0x60085204, 16, 6, 0x4},
	{0x60085204, 14, 2, 0x0},
	{0x60085204, 8, 6, 0x4},
	{0x60085204, 6, 2, 0x0},
	{0x60085204, 0, 6, 0x4},
	{0x60085208, 24, 6, 0xa},
	{0x60085208, 16, 6, 0xa},
	{0x60085208, 8, 6, 0xa},
	{0x60085208, 0, 6, 0xa},
	{0x6008520c, 24, 6, 0x10},
	{0x6008520c, 16, 6, 0x10},
	{0x6008520c, 14, 2, 0x0},
	{0x6008520c, 8, 6, 0x8},
	{0x6008520c, 6, 2, 0x0},
	{0x6008520c, 0, 6, 0x8},
	{0x60085268, 8, 3, 0x0},
	{0x60085268, 0, 1, 0x1},
	{0x60085280, 0, 1, 0x1},
	{0x60085284, 30, 2, 0x0},
	{0x60085284, 24, 6, 0x8},
	{0x60085284, 22, 2, 0x0},
	{0x60085284, 16, 6, 0x8},
	{0x60085284, 14, 2, 0x0},
	{0x60085284, 8, 6, 0x8},
	{0x60085284, 6, 2, 0x0},
	{0x60085284, 0, 6, 0x8},
	{0x60085288, 24, 6, 0x10},
	{0x60085288, 16, 6, 0x10},
	{0x60085288, 8, 6, 0x10},
	{0x60085288, 0, 6, 0x10},
	{0x6008528c, 24, 6, 0x10},
	{0x6008528c, 16, 6, 0x10},
	{0x6008528c, 14, 2, 0x0},
	{0x6008528c, 8, 6, 0x8},
	{0x6008528c, 6, 2, 0x0},
	{0x6008528c, 0, 6, 0x8},
	{0x600852e8, 8, 3, 0x0},
	{0x600852e8, 0, 1, 0x1},
	{0x60085368, 8, 3, 0x0},
	{0x60085368, 0, 1, 0x1},
	{0x60085380, 0, 1, 0x1},
	{0x60085384, 30, 2, 0x0},
	{0x60085384, 24, 6, 0x1},
	{0x60085384, 22, 2, 0x0},
	{0x60085384, 16, 6, 0x20},
	{0x60085384, 14, 2, 0x0},
	{0x60085384, 8, 6, 0x1},
	{0x60085384, 6, 2, 0x2},
	{0x60085384, 0, 6, 0x10},
	{0x60085388, 24, 6, 0x4},
	{0x60085388, 16, 6, 0x3f},
	{0x60085388, 8, 6, 0x4},
	{0x60085388, 0, 6, 0x1},
	{0x6008538c, 30, 2, 0x3},
	{0x6008538c, 24, 6, 0x20},
	{0x6008538c, 16, 6, 0x10},
	{0x6008538c, 14, 2, 0x0},
	{0x6008538c, 8, 6, 0x10},
	{0x6008538c, 6, 2, 0x0},
	{0x6008538c, 0, 6, 0x8},
	{0x600853e8, 8, 3, 0x0},
	{0x600853e8, 0, 1, 0x1},
};

void pub_qos_cfg(void)
{
	u32 i;
	for (i = 0; i < sizeof(qos_cfg)/sizeof(qos_cfg[0]); i++)
		reg_bit_set(qos_cfg[i].addr, qos_cfg[i].start_bit,
			    qos_cfg[i].bits, qos_cfg[i].value);
}


